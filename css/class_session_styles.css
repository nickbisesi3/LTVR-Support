        /*---------------------------------------
          MAIN PAGE LAYOUT & PANEL STRUCTURE
        -----------------------------------------*/
        body.class-session-body {
            display: block; 
        }
        /* Base styles for the two-panel layout */
        body { /* Flex container for left and center panels */
            margin: 0; /* Remove default body margin for full-width layout */
            min-height: 100vh; /* Ensure body takes at least full viewport height */
        }

        /* This container wraps the left and center panels and should be their flex parent. */
        .class-session-container {
            display: flex;
            width: 100%; /* Ensure the container takes full width */
        }

        .panel { /* Common styling for both panels (though not explicitly used by .left-panel or .center-panel by this name) */
            padding: 20px;
            box-sizing: border-box;
        }

        /* Left Panel: Sidebar for Experience Navigation */
        .left-panel {
            flex: 0 0 280px; /* Fixed width, does not grow or shrink */
            border-right: 1px solid #dee2e6; /* Visual separator from center panel */
            overflow-y: auto; /* Enables scrolling if content exceeds panel height */
            background-color: #f8f9fa; /* Light background for distinction */
            display: flex; 
            flex-direction: column; /* Stack sidebar items vertically */
            position: sticky; /* Keeps the sidebar in view during vertical scroll of center panel */
            top: 10px; /* Distance from the top of the viewport */
            height: calc(100vh - 20px); /* Full viewport height minus top/bottom margins */
            /* Note: The inline 'min-height: 100vh' on the HTML element (if present) MUST be removed or this 'height' won't take full effect as intended with sticky positioning. */
        }

        /* Center Panel: Main Content Area (Experience Preview & Controls) */
        .center-panel {
            flex: 1; /* Takes up all remaining horizontal space */
            display: flex;
            flex-direction: column; /* Stacks title, preview, and other content vertically */
            overflow-y: auto; /* CRITICAL: Enables scrolling for content that exceeds viewport height */
            padding: 20px; /* Inner spacing for content */
        }

        /* Spacing for Teacher Preview Window within the Center Panel */
        .teacher-preview-window {
           margin-bottom: 30px; /* Space below the preview area before any subsequent content */
        }

        /* Typography Adjustments within the Center Panel */
        .center-panel h3 {
            margin-top: 0; /* Remove extra top margin if it's the first element */
            margin-bottom: 15px;
        }

        /* EXPERIENCE LIST STYLING */
        .experience-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .experience-item {
            cursor: pointer;
            padding: 12px 15px; /* Increased padding */
            border-radius: 6px; /* Slightly larger radius */
            margin-bottom: 5px; /* Reduced margin */
            border-left: 3px solid transparent; /* Placeholder for selected indicator */
            transition: background-color 0.2s ease, border-left-color 0.2s ease;
            font-size: 0.95em; /* Adjust font size */
            color: #333; /* Darker text */
            display: flex; /* Use flexbox to align name and tag */
            justify-content: space-between; /* Puts space between name and tag */
            align-items: center; /* Vertically aligns items */
        }
        .experience-item:hover {
            background-color: #e9ecef; /* Lighter gray hover */
        }
        .experience-item.selected {
            background-color: #cfe2ff; /* Light blue background for selected */
            font-weight: 600; /* Semi-bold */
            color: #052c65; /* Darker blue text for selected */
            border-left: 3px solid #0d6efd; /* Blue indicator border */
        }
        .experience-item.selected .tag {
            background-color: #052c65 !important; /* Match selected text color */
            color: #cfe2ff !important; /* Match selected background color */
        }

        /* PILL TAG STYLES */
        .tag {
            padding: 3px 10px;
            border-radius: 12px; /* Pill shape */
            font-size: 0.75em;
            font-weight: bold;
            color: white;
            margin-left: 10px; /* Space between name and tag */
            white-space: nowrap; /* Prevent tag text from wrapping */
        }

        /* Tag colors based on data-type of parent li.experience-item */
        .experience-item[data-type="360video"] .tag {
            background-color: #0052cc; /* LTVR Blue */
        }

        .experience-item[data-type="streetview"] .tag {
            background-color: #28a745; /* Green */
        }

        .experience-item[data-type="webxr"] .tag {
            background-color: #fd7e14; /* Orange */
            color: #fff; /* White text */
        }

        .experience-item[data-type="3dmodel"] .tag {
            background-color: #6f42c1; /* Purple */
        }

        .experience-item[data-type="app"] .tag {
            background-color: #DC1625; /* New Red */
        }

        /* PREVIEW CONTENT STYLING */
        .preview-content {
            border: 1px dashed #aaa;
            padding: 15px;
            margin-top: 10px;
        }
        .video-player-placeholder, 
        .streetview-placeholder, 
        .model-viewer-placeholder {
            background-color: #eee;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            margin-bottom: 10px;
        }
        /* Style for the embedded iframe */
        #preview-360video iframe {
            width: 100%; /* Make iframe responsive */
            aspect-ratio: 16 / 9; /* Maintain 16:9 aspect ratio */
            border: none; /* Remove default border */
        }
        #preview-streetview iframe {
            width: 100%;
            aspect-ratio: 16 / 9; /* Or adjust if 4/3 is better for StreetView */
            border: none;
        }
        /* Hide all preview content by default */
        .preview-content {
             display: none; 
        }
        /* Show the default message initially */
        #preview-default {
            display: flex; /* Use flexbox for layout */
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .qr-code-placeholder {
            width: 150px;
            height: 150px;
            background-color: #ddd;
            border: 1px solid #bbb;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #888;
            margin-bottom: 15px;
        }
        .room-code-display {
            font-size: 1.8em;
            font-weight: bold;
            color: #333;
            letter-spacing: 2px;
            background-color: #f8f8f8;
            padding: 10px 20px;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        .left-panel-connection-info {
            padding-top: 15px;
            border-top: 1px solid #eee;
            text-align: center;
            margin-top: auto; /* Pushes to the bottom of the flex parent (.left-panel) */
            background-color: #f8f9fa; /* Match sidebar bg to cover content scrolling behind */
            /* Make background full-width respecting parent's L/R padding (20px each) */
            margin-left: -20px;
            margin-right: -20px;
            padding-left: 20px; /* Re-apply for content alignment */
            padding-right: 20px; /* Re-apply for content alignment */
            padding-bottom: 15px; /* Internal content padding at bottom */
            z-index: 10; 
        }
        .left-panel-connection-info .qr-code-placeholder {
            width: 100px; /* Smaller QR */
            height: 100px;
            margin: 0 auto 10px auto; /* Center horizontally */
        }
        .left-panel-connection-info .room-code-display {
            font-size: 1.2em; /* Smaller room code */
            padding: 5px 10px;
            display: inline-block; /* Allow centering */
            margin-bottom: 10px;
        }

        /* ADD EXPERIENCE ITEM STYLING */
        .add-experience-item {
            cursor: pointer;
            padding: 10px 15px;
            margin-top: 15px; /* Space above */
            border-radius: 6px;
            background-color: #e0e0e0;
            text-align: center;
            font-weight: 500;
            color: #444;
            border: 1px dashed #aaa;
            transition: background-color 0.2s ease;
        }
        .add-experience-item:hover {
            background-color: #d5d5d5;
        }

        /* MODAL STYLING */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto; /* 15% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 80%; /* Could be more or less, depending on screen size */
            max-width: 500px; /* Max width */
            border-radius: 8px;
            position: relative;
        }
        .close-button {
            color: #aaa;
            position: absolute; /* Position relative to modal-content */
            top: 10px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
        }
        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        /* FULL PAGE MODAL STYLING */
        #add-experience-modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 1050; /* Higher than other modal */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(255, 255, 255, 0.95); /* White overlay */
        }
        .full-modal-content {
            padding: 40px;
            position: relative; /* For close button positioning */
        }
        .full-modal-close-button {
            position: absolute;
            top: 20px;
            right: 35px;
            color: #555;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
        }
        .full-modal-close-button:hover {
            color: #000;
        }

        /* STUDENT STATUS GRID STYLING */
        .status-header-flex-container {
            display: flex;
            justify-content: space-between;
            align-items: baseline; /* Align text baselines of title and button */
            margin-bottom: 0px; /* No space below header */
            border-bottom: none !important; /* Ensure no separator line */
        }

        .page-section-title {
            font-size: 1.6em; /* Slightly smaller title font */
            font-weight: 500; /* Less bold */
            line-height: 1.2; /* Reduce extra space within the h2 box */
            color: #343a40; /* Darker text for title */
            margin-bottom: 0; /* Remove default h2 margin */
            border: none !important; /* Ensure no borders at all */
            text-decoration: none !important; /* Ensure no underline */
            box-shadow: none !important; /* Ensure no shadow that could look like a line */
        }

        .student-status-controls {
            text-align: right; /* Position button to the right */
        }

        .view-all-brand-btn {
            padding: 8px 16px;
            border: none;
            background-color: #035BD7; /* Brand Blue */
            color: #ffffff;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9em;
            transition: background-color 0.2s;
            white-space: nowrap;
        }

        .view-all-brand-btn:hover {
            background-color: #0248b0; /* Darker Brand Blue */
        }

        .student-status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); /* Reduced min width */
            gap: 15px; /* Equal 15px gap for rows and columns */
            padding: 0 10px 10px 10px; /* Top padding removed, RBL preserved */
            background-color: transparent; /* Remove grid background to eliminate top line */
            border-radius: 8px;
            /* border: 1px solid #dee2e6; Removed border */
        }
        .headset-status-cell {
            min-width: 180px; /* Match grid minmax */
            box-sizing: border-box;
            border: 1px solid #dee2e6; /* Light gray border */
            border-radius: 8px; /* Rounded corners */
            padding: 0; /* Remove padding, handled by internal elements or placeholder */
            background-color: #ffffff; /* White background */
            text-align: center;
            transition: transform 0.2s ease-in-out;
            overflow: hidden; /* Needed for edge-to-edge placeholder */
            display: flex;
            flex-direction: column;
        }
        .headset-status-cell:hover {
            transform: translateY(-5px); /* Slight lift on hover */
        }

        /* HEADSET INFO ROW STYLING */
        .headset-info-row {
            box-sizing: border-box;
            display: flex;
            justify-content: space-between; /* Ensure items are pushed apart */
            align-items: center;
            padding: 0 12px 8px 12px; /* T=0, R=12, B=8, L=12 */
            background-color: #f8f9fa; /* Light background */
            width: 100%;
        }
        .headset-status {
            padding: 0;
            display: flex;
            align-items: center;
            background-color: transparent !important; /* Override previous colors */
            border: none !important; /* Override previous border */
            color: #212529; /* Standard text color */
            font-size: 0.85em;
            border-radius: 0;
        }
        .status-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 6px;
        }
        .status-connected .status-dot {
             background-color: #198754; /* Bootstrap Success Green */
         }
        .status-disconnected {
            color: #6c757d; /* Gray text for disconnected */
        }
        .status-disconnected .status-dot {
            background-color: #6c757d; /* Bootstrap Secondary Gray */
        }
        .headset-battery {
            font-size: 0.8em;
            color: #6c757d; /* Subtle gray */
            margin-bottom: 0; /* Remove bottom margin */
            text-align: center;
        }
        .headset-battery span {
            font-weight: 500; /* Slightly bolder percentage */
        }
        .view-screen-btn {
            padding: 6px 12px; /* Standard padding */
            font-size: 0.8em;
            cursor: pointer;
            background: none;
            border: none;
            color: black;
            line-height: 1; /* Prevent extra vertical space */
            margin-bottom: 0;
            background-color: white; /* Branding: White background */
            color: black; /* Branding: Black text */
            border: 1px solid #dee2e6; /* Subtle border */
            border-radius: 6px; /* Branding: Rounded corners */
            white-space: nowrap;
            padding: 6px 12px; /* Standard padding */
            transition: background-color 0.2s, color 0.2s;
            flex-shrink: 0; /* Prevent button from shrinking */
        }
        .view-screen-btn:disabled {
            cursor: default;
            background-color: #f8f9fa !important; /* Slightly off-white disabled */
            border-color: #dee2e6 !important;
            color: #6c757d !important; /* Gray disabled text */
            opacity: 0.75;
        }
        .view-screen-btn:hover:not(:disabled) {
            background-color: #f8f9fa; /* Light hover */
            border-color: #adb5bd;
            color: black; /* Keep text black */
        }
        /* When the card is expanded */
        .headset-status-cell.expanded .student-pov-placeholder {
            display: flex; /* Show the placeholder (using flex) */
        }
        .headset-status-cell.expanded .view-screen-btn {
           display: none; /* Hide view button when expanded */
       }
       /* Hide Screen Button (inside placeholder) */
       .hide-screen-btn {
           position: absolute;
           top: 8px;
           right: 8px;
           background-color: rgba(0, 0, 0, 0.5);
           color: white;
           border: none;
           border-radius: 50%;
           width: 24px;
           height: 24px;
           font-size: 14px;
           line-height: 24px; /* Center 'X' */
           text-align: center;
           cursor: pointer;
           display: none; /* Hidden by default */
           z-index: 10;
       }
       .headset-status-cell.expanded .hide-screen-btn {
           display: inline-flex; /* Show when expanded, use flex for centering content */
           align-items: center;
           justify-content: center;
       }
       .hide-screen-btn:hover {
           background-color: rgba(0, 0, 0, 0.7);
       }

        /* STUDENT POV PLACEHOLDER STYLING */
        .student-pov-placeholder {
            display: flex; /* Always visible, used to center content */
            flex-direction: column; /* Default: stack items like label + content */
            align-items: center;
            justify-content: center; /* Center content by default (for collapsed state) */
            aspect-ratio: 16 / 9; /* Maintain 16:9 aspect ratio */
            background-color: #e9ecef; /* Default light background for collapsed state */
            color: #495057; /* Default text color for light background */
            padding: 0; /* Remove padding, inner wrappers will handle if needed */
            border-top-left-radius: 8px; /* Match card */
            border-top-right-radius: 8px; /* Match card */
            width: 100%;
        }

        /* Default visibility for items inside placeholder */
        .student-pov-placeholder .pov-text-label,
        .student-pov-placeholder .actual-pov-content {
            display: none; /* Hidden by default */
        }

        /* Styles for .student-pov-placeholder when its parent .headset-status-cell is expanded */
        .headset-status-cell.expanded .student-pov-placeholder {
            background-color: #343a40; /* Dark background */
            color: #ffffff; /* White text */
            justify-content: flex-start; /* Align items (label, content) to the top */
            padding: 0; /* Make black background flush */
        }

        .headset-status-cell.expanded .pov-text-label {
            display: block; /* Show when expanded */
            width: 100%;
            text-align: center;
            font-weight: 500;
            margin-bottom: 8px;
            font-size: 1em;
        }

        .headset-status-cell.expanded .actual-pov-content {
            display: flex; /* Show when expanded */
            flex-grow: 1; /* Takes remaining space */
            width: 100%;
            background-color: #000; /* Black background for actual screen area */
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden; /* If content is larger */
        }

        /* Hide placeholder wrapper when cell is expanded */
        .headset-status-cell.expanded .placeholder-content-wrapper {
            display: none !important;
        }

        /* Wrapper for content inside collapsed placeholder (button or text) */
        .student-pov-placeholder .placeholder-content-wrapper {
            display: flex;
            flex-direction: column; 
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            padding: 15px; 
            box-sizing: border-box;
        }

        /* Styling for the 'View Screen' button when it's inside the placeholder */
        .view-screen-btn-placeholder {
            padding: 10px 20px; /* Larger padding */
            border: 1px solid #6c757d; /* Grey border */
            background-color: #ffffff; /* White background */
            color: #6c757d; /* Grey text */
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.95em;
            transition: background-color 0.2s, opacity 0.2s;
            white-space: nowrap;
        }

        .view-screen-btn-placeholder:hover {
            background-color: #f8f9fa; /* Very light grey on hover */
        }

        /* Styling for 'Disconnected' text in placeholder */
        .placeholder-content-wrapper .status-text {
            font-size: 0.9em; /* Match button text size */
            font-weight: 500;
            color: #6c757d; /* Muted text color */
        }

        /* Utility class to hide elements, often managed by JS */
        .hidden-by-js {
            display: none !important;
        }

        .hide-screen-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 14px;
            line-height: 24px; /* Center 'X' */
            text-align: center;
            cursor: pointer;
            display: none; /* Hidden by default */
            z-index: 10;
        }
        .headset-status-cell.expanded .hide-screen-btn {
            display: inline-flex; /* Show when expanded, use flex for centering content */
            align-items: center;
            justify-content: center;
        }
        .hide-screen-btn:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }

        /* Hide View Screen button for disconnected headsets */
        .headset-status-cell:has(.status-disconnected) .view-screen-btn {
            display: none;
        }

        /* LOADING INDICATOR */
        #loading-indicator {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }

        .headset-id {
            font-weight: bold; /* Keep bold */
            white-space: nowrap; /* Prevent wrapping */
            overflow: hidden; /* Hide overflow */
            text-overflow: ellipsis; /* Show ... for overflow */
            flex-grow: 1; /* Allow ID to take available space */
            text-align: left; /* Align text within its space */
        }

        .headset-title-row {
            box-sizing: border-box;
            display: flex;
            justify-content: space-between; /* Ensure items are pushed apart */
            align-items: center;
            padding: 8px 15px 0 12px; /* T=8, R=15, B=0, L=12 */
            background-color: #f8f9fa; /* Light background */
            width: 100%;
        }
        .headset-info-row {
            box-sizing: border-box;
            display: flex;
            justify-content: space-between; /* Align status left, battery right */
            align-items: center;
            padding: 0 12px 8px 12px; /* T=0, R=12, B=8, L=12 */
            background-color: #f8f9fa; /* Light background */
            width: 100%;
        }

        /* Flex container for header items */
        .header-flex-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%; /* Ensure it spans the full width if its parent doesn't */
            padding-left: 20px;
            padding-right: 20px;
            box-sizing: border-box; /* Ensure padding is included in the 100% width */
        }

        /* Styling for session control buttons in header */
        .session-control-btn {
            padding: 8px 15px; /* Base padding for consistent size */
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9em;
            margin-left: 10px; /* Space between buttons */
            cursor: pointer;
            border: 1px solid transparent; /* Ensure border style is solid */
            box-sizing: border-box; /* Crucial for consistent sizing */
            display: inline-block; /* Ensures consistent block-level behavior for padding/sizing */
            line-height: 1.4; /* Using a specific unitless value for consistency */
            font-family: inherit; /* Ensure consistent font usage */
            vertical-align: middle; /* Better alignment for inline-block elements */
        }

        /* Remove default browser styling from buttons to match anchors better */
        button.session-control-btn {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }

        .pause-session-btn-header {
            background-color: #6c757d; /* Grey background */
            color: #ffffff; /* White text */
            border-color: #6c757d;
        }

        .pause-session-btn-header:hover {
            background-color: #5a6268; /* Darker grey on hover */
            border-color: #545b62;
        }

        .end-session-btn-header {
            background-color: #DC1625; /* New Red */
            color: #ffffff;
            border-color: #DC1625; /* New Red */
        }

        .end-session-btn-header:hover {
            background-color: #C61421; /* Darker New Red for hover */
            border-color: #B8131F; /* Darker New Red for hover border */
        }

        /* Inline styles moved from class_session.html */
        .left-panel-connection-info .connection-info-text {
            font-size: 0.8em;
            color: #666;
        }
        
        #preview-default .preview-default-instruction {
            margin-top: 15px;
            color: #666;
        }
        
        .preview-content .preview-note {
            font-size: 0.8em;
            margin-top: 5px;
            color: #666; /* Common color for preview notes */
        }