<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Session - LTVR Platform</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/class_session_layout.css">
    <link rel="stylesheet" href="css/class_session_sidebar.css">
    <link rel="stylesheet" href="css/class_session_student_card.css">
    <link rel="stylesheet" href="css/class_session_previews.css">
    <link rel="stylesheet" href="css/class_session_modals.css">
    <script src="js/header.js"></script> <!-- Load header script -->
    
    <link rel="icon" type="image/png" href="assets/Favicon.png">
</head>
<body class="class-session-body">
    <!-- Header Placeholder -->
    <div id="header-placeholder"></div>

    <main class="class-session-container">
        <div class="panel left-panel">
            <h2 id="class-name-title">Biology 101</h2> <!-- Changed title to class name -->
            <!-- Structured list of experiences with data types -->
            <ul class="experience-list">
                <li class="experience-item selected" data-type="default" data-id="start">Start Here</li>
                <li class="experience-item" data-type="360video" data-id="exp1">
                    Volcano Visit <span class="tag">360 Video</span>
                </li>
                <li class="experience-item" data-type="streetview" data-id="exp2">
                    Ancient Rome <span class="tag">Street View</span>
                </li>
                <li class="experience-item" data-type="3dmodel" data-id="exp4">
                    Human Heart <span class="tag">3D Model</span>
                </li>
                <li class="experience-item" data-type="app" data-id="exp5">
                    Frog Dissection <span class="tag">App</span>
                </li>
                <li class="experience-item" data-type="webxr" data-id="exp3">
                    Assessment <span class="tag">WebXR</span>
                </li>
            </ul>
            <!-- Add New Experience Button moved here -->
            <div id="add-experience-trigger" class="add-experience-item">+ Add New Experience</div>
            
            <!-- QR Code and Room Code moved here -->
            <div class="left-panel-connection-info">
                <div class="qr-code-placeholder">QR Code</div>
                <div class="room-code-display">CODE123</div>
                <p class="connection-info-text">Students can join using this info.</p>
            </div>
            
        </div>

        <div class="panel center-panel">
            <h2 id="experience-preview-title">Start Here</h2> <!-- Added ID and changed initial text -->
            <div class="teacher-preview-window">
                <!-- Default Message -> Now QR Code/Room Code -->
                <div id="preview-default" class="preview-content">
                    <div class="qr-code-placeholder">QR Code Area</div>
                    <div class="room-code-display">CODE123</div>
                    <p class="preview-default-instruction">Have students scan the QR code or enter the room code.</p>
                </div>
                <!-- 360 Video Preview -->
                <div id="preview-360video" class="preview-content">
                    <!-- YouTube Embed -->
                    <div class="iframe-wrapper">
                        <iframe 
                            src="https://www.youtube.com/embed/o3a1fkLsNS4" 
                            title="YouTube video player - 360Â° Volcano Fly Through"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            allowfullscreen></iframe>
                    </div>
                    <p class="preview-note">Note: This is a standard YouTube preview. True 360 interaction may require specific VR player integration.</p>
                </div>
                <!-- Street View Preview -->
                <div id="preview-streetview" class="preview-content">
                    <!-- Google Street View Embed -->
                    <div class="iframe-wrapper">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2970.794773377304!2d12.49004221570739!3d41.89021017922119!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m3!3e6!4m0!4m0!5e0!3m2!1sen!2sus!4v1715537171079!5m2!1sen!2sus"
                             allowfullscreen="" 
                             loading="lazy" 
                             referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                    <p class="preview-note">Use mouse/touch to look around in the preview.</p>
                </div>
                <!-- WebXR Preview -->
                <div id="preview-webxr" class="preview-content">
                    <div class="preview-placeholder-16-9">
                        <div class="placeholder-content">WebXR Preview Area</div>
                    </div>
                </div>
                <!-- 3D Model Preview -->
                <div id="preview-3dmodel" class="preview-content">
                    <div class="preview-placeholder-16-9">
                        <div class="placeholder-content">3D Model Preview Area</div>
                    </div>
                </div>
                <!-- App Preview -->
                <div id="preview-app" class="preview-content">
                    <div class="preview-placeholder-16-9">
                        <div class="placeholder-content">App Preview Area</div>
                    </div>
                </div>
            </div>
            <!-- Student Status Section -->
            <div class="status-header-flex-container">
                <h2 class="page-section-title">Student Status</h2>
                <div class="student-status-controls">
                    <button id="view-all-screens-btn" class="view-all-brand-btn">View All Screens</button>
                </div>
            </div>
            <div class="student-status-grid">
                <!-- Grid items will be generated (or manually added for now) -->
                <div class="headset-status-cell"> <!-- Example for Headset 1, configured as per "Headset 2" screenshot request -->
                    <div class="student-pov-placeholder">
                        <!-- Content for expanded view (initially hidden by CSS unless .expanded-pov is present) -->
                        <div class="actual-pov-content">
                            <!-- Actual POV stream/image would go here when expanded -->
                        </div>
                        <button class="hide-screen-btn">&times;</button> <!-- Remains for expanded state -->
                        <!-- Content for collapsed view (e.g., View Screen button) -->
                        <div class="placeholder-content-wrapper">
                            <button class="view-screen-btn view-screen-btn-placeholder" data-headset-id="headset1_static">View Screen</button>
                        </div>
                    </div>
                    <div class="headset-title-row">
                        <div class="headset-id">Headset 1</div>
                    </div>
                    <div class="headset-info-row">
                        <div class="headset-status status-connected"><span class="status-dot"></span>Connected</div>
                        <div class="headset-battery">ðŸ”‹ <span>95</span>%</div>
                    </div>
                </div>
                <div class="headset-status-cell">
                    <div class="student-pov-placeholder">
                        <div class="actual-pov-content"></div>
                        <button class="hide-screen-btn">&times;</button>
                        <div class="placeholder-content-wrapper">
                            <button class="view-screen-btn view-screen-btn-placeholder" data-headset-id="headset2_static">View Screen</button>
                        </div>
                    </div>
                    <div class="headset-title-row">
                        <div class="headset-id">Headset 2</div>
                    </div>
                    <div class="headset-info-row">
                        <div class="headset-status status-connected"><span class="status-dot"></span>Connected</div>
                        <div class="headset-battery">ðŸ”‹ <span>88</span>%</div>
                    </div>
                </div>
                <div class="headset-status-cell">
                    <div class="student-pov-placeholder">
                        <div class="actual-pov-content"></div>
                        <button class="hide-screen-btn" disabled>&times;</button>
                        <div class="placeholder-content-wrapper">
                            <div class="status-text">Disconnected</div>
                        </div>
                    </div>
                    <div class="headset-title-row">
                        <div class="headset-id">Headset 3</div>
                    </div>
                    <div class="headset-info-row">
                        <div class="headset-status status-disconnected"><span class="status-dot"></span>Disconnected</div>
                        <div class="headset-battery">ðŸ”‹ <span>--</span>%</div>
                    </div>
                </div>
                <div class="headset-status-cell">
                    <div class="student-pov-placeholder">
                        <div class="actual-pov-content"></div>
                        <button class="hide-screen-btn">&times;</button>
                        <div class="placeholder-content-wrapper">
                            <button class="view-screen-btn view-screen-btn-placeholder" data-headset-id="headset4_static">View Screen</button>
                        </div>
                    </div>
                    <div class="headset-title-row">
                        <div class="headset-id">Headset 4</div>
                    </div>
                    <div class="headset-info-row">
                        <div class="headset-status status-connected"><span class="status-dot"></span>Connected</div>
                        <div class="headset-battery">ðŸ”‹ <span>72</span>%</div>
                    </div>
                </div>
                <div class="headset-status-cell">
                    <div class="student-pov-placeholder">
                        <div class="actual-pov-content"></div>
                        <button class="hide-screen-btn">&times;</button>
                        <div class="placeholder-content-wrapper">
                            <button class="view-screen-btn view-screen-btn-placeholder" data-headset-id="headset5_static">View Screen</button>
                        </div>
                    </div>
                    <div class="headset-title-row">
                        <div class="headset-id">Headset 5</div>
                    </div>
                    <div class="headset-info-row">
                        <div class="headset-status status-connected"><span class="status-dot"></span>Connected</div>
                        <div class="headset-battery">ðŸ”‹ <span>65</span>%</div>
                    </div>
                </div>
                <!-- Repeat for headsets 6-25 (using placeholders) -->
            </div>

        </div>
    </main>

    <!-- Pause Modal Structure -->
    <div id="pause-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Session Paused</h2>
            <p>This is a placeholder modal for the pause functionality.</p>
            <!-- Add controls or info needed when paused -->
        </div>
    </div>

    <!-- Add Experience Full Page Modal -->
    <div id="add-experience-modal" class="modal">
        <div class="full-modal-content">
            <span class="full-modal-close-button">&times;</span>
            <h2>Add New Experience</h2>
            <p>This is where the form or interface to add a new experience will go.</p>
            <!-- Add form elements, search, etc. here -->
        </div>
    </div>
    <script src="js/class_session.js" defer></script>
</body>
</html>
